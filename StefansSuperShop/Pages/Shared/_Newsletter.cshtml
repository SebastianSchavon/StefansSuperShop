@model StefansSuperShop.ViewModels.NewsletterViewModel



<div id="newsletter" class="section">
    <!-- container -->
    <div class="container">
        <!-- row -->
        <div class="row">
            <div class="col-md-12">
                @if (!User.IsInRole("Subscriber"))
                {
                    <div class="newsletter">
                        <p>Sign Up for the <strong>NEWSLETTER</strong></p>
                        <form id="form1">
                            <input class="input" name="emailAddress" type="email" placeholder="Enter Your Email">
                            <button type="button" id="btnSubmit" class="newsletter-btn"><i class="fa fa-envelope"></i> Subscribe</button>
                        </form>
                        <ul class="newsletter-follow">
                            <li>
                                <a href="#"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li>
                                <a href="#"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li>
                                <a href="#"><i class="fa fa-instagram"></i></a>
                            </li>
                            <li>
                                <a href="#"><i class="fa fa-pinterest"></i></a>
                            </li>
                        </ul>
                    </div>
                }
                   
            </div>
        </div>
        <!-- /row -->
    </div>
    <!-- /container -->
</div>


<script>

$(document).ready(function(){
    let $frm = $('#form1');
    
     console.log("lol")
     
     $('#btnSubmit').click(function (e) {
         
         console.log("clicked");
         
         e.preventDefault();
         
         console.log($frm.attr('page'))
         
         $.ajax({
                 type: 'POST',
                 dataType:'JSON',
        url: "/Subscribe/?handler=Subscribe",
        data: JSON.stringify({ emailAddress: "blablabla" }),
                 success: function (msg) {
                    console.log(msg);
                    console.log('success');
                 }
             });
     });
    
});

 
</script>
